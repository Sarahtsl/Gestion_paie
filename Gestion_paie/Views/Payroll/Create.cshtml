@{
    ViewData["Title"] = "Créer une Fiche de Paie";
    Layout = "_Layout";
}

<div class="card card-primary mt-4">
    <div class="card-header">
        <h3 class="card-title m-0">
            <i class="fas fa-plus-circle"></i> @ViewData["Title"]
        </h3>
    </div>

    <div class="card-body">
        <form asp-action="Create" method="post">
            <div class="mb-3">
                <label class="form-label">Employé</label>
                <select name="employeeId" class="form-control" required>
                    <option value="">-- Sélectionnez un employé --</option>
                    @foreach (var emp in ViewBag.Employees)
                    {
                        <option value="@emp.Id">@emp.FirstName @emp.LastName</option>
                    }
                </select>
            </div>

            <div class="mb-3">
                <label class="form-label">Période</label>
                <select name="periodId" class="form-control" required>
                    <option value="">-- Sélectionnez une période --</option>
                    @foreach (var period in ViewBag.Periods)
                    {
                        <option value="@period.Id">
                            @System.Globalization.CultureInfo.CurrentCulture.DateTimeFormat.GetMonthName(period.PeriodMonth) @period.PeriodYear
                        </option>

                    }
                </select>
            </div>

            <div class="mb-3">
                <label class="form-label">Heures Supplémentaires</label>
                <input type="number" step="0.01" class="form-control" name="overtimeHours" value="0" />
            </div>

            <div class="mb-3">
                <label class="form-label">Prime</label>
                <input type="number" step="0.01" class="form-control" name="bonusAmount" value="0" />
            </div>

            <button type="submit" class="btn btn-success">
                <i class="fas fa-save"></i> Générer
            </button>
            <a asp-action="Index" class="btn btn-secondary">Annuler</a>
        </form>
    </div>
</div>